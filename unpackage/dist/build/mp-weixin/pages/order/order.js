(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/order/order"],{1114:function(t,e,a){"use strict";a.r(e);var i=a("e15d"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"32f0":function(t,e,a){"use strict";(function(t,e){var i=a("47a9");a("d3e5");i(a("3240"));var n=i(a("3f19"));t.__webpack_require_UNI_MP_PLUGIN__=a,e(n.default)}).call(this,a("3223")["default"],a("df3c")["createPage"])},"3f19":function(t,e,a){"use strict";a.r(e);var i=a("fb66"),n=a("1114");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("e18f");var o=a("828b"),r=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=r.exports},d530:function(t,e,a){},e15d:function(t,e,a){"use strict";(function(t){var i=a("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("af34")),s={data:function(){return{topList:["全部","派送中","已完成"],paramsData:{page:"1",limit:"10"},itemindex:0,orderList:[],totalPages:1,status:"loadmore",iconType:"circle",loadText:{loadmore:"轻轻上拉",loading:"加载中",nomore:"暂无更多订单"},order_status:0}},onLoad:function(){this.getList()},onPullDownRefresh:function(){var e=this;setTimeout((function(){e.paramsData.page=1,e.paramsData.limit=15,e.$u.post("/ucenter/getMemberMoneyLog",{page:e.paramsData.page,limit:e.paramsData.limit}).then((function(a){0==a.error&&(e.detailedList=[],e.detailedList=a.data.items,t.stopPullDownRefresh())}))}),1500)},onReachBottom:function(){var t=this;this.totalPages<=this.paramsData.page?(this.status="loading",setTimeout((function(){t.status="nomore"}),1500)):(this.paramsData.page++,this.status="loading",setTimeout((function(){t.getList()}),1500))},onShow:function(){},methods:{getList:function(){var e=this;""===t.getStorageSync("token")?t.showToast({title:"未登录",icon:"none"}):0==t.getStorageSync("is_bind")?t.clearStorageSync():this.$u.post("/order/getOrderList",{order_status:this.order_status,page:this.paramsData.page,limit:this.paramsData.limit}).then((function(t){0==t.error&&(e.totalPages=Math.ceil(t.data.count/e.paramsData.limit),t.data.items.forEach((function(t){""==t.need_time?t.need_time="立即配送":"-"==t.need_time.substr(t.need_time.length-1,1)&&(t.need_time=t.need_time.slice(0,t.need_time.length-1)),"立即配送"!=t.need_time&&(t.need_time=t.need_time.substring(0,10)+" "+t.need_time.substring(12)),console.log(t.need_time)})),e.orderList=[].concat((0,n.default)(e.orderList),(0,n.default)(t.data.items)),e.totalPages<=e.paramsData.page&&(e.status="nomore"))}))},changeList:function(){var t=this;this.orderList="",this.paramsData.page=1,this.$u.post("/order/getOrderList",{order_status:this.order_status,page:this.paramsData.page,limit:this.paramsData.limit}).then((function(e){0==e.error&&(t.totalPages=Math.ceil(e.data.count/t.paramsData.limit),e.data.items.forEach((function(t){""==t.need_time?t.need_time="立即配送":"-"==t.need_time.substr(t.need_time.length-1,1)&&(t.need_time=t.need_time.slice(0,t.need_time.length-1)),"立即配送"!=t.need_time&&(t.need_time=t.need_time.substring(0,10)+" "+t.need_time.substring(12)),console.log(t.need_time)})),t.orderList=e.data.items,console.log(t.orderList),t.totalPages<=t.paramsData.page&&(t.status="nomore"))}))},orderType:function(t){0==t?(this.order_status=0,console.log(this.order_status),this.changeList()):1==t?(this.order_status=3,this.changeList()):2==t&&(this.order_status=4,console.log(this.order_status),this.changeList()),this.itemindex=t}}};e.default=s}).call(this,a("df3c")["default"])},e18f:function(t,e,a){"use strict";var i=a("d530"),n=a.n(i);n.a},fb66:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return i}));var i={uImage:function(){return a.e("uview-ui/components/u-image/u-image").then(a.bind(null,"bf84"))},uLoadmore:function(){return a.e("uview-ui/components/u-loadmore/u-loadmore").then(a.bind(null,"e72c"))}},n=function(){var t=this.$createElement,e=(this._self._c,this.orderList.length),a=this.orderList.length;this.$mp.data=Object.assign({},{$root:{g0:e,g1:a}})},s=[]}},[["32f0","common/runtime","common/vendor"]]]);