(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/order/order"],{"4c68":function(t,e,a){"use strict";var n=a("8a41"),i=a.n(n);i.a},5984:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return n}));var n={uImage:function(){return a.e("uview-ui/components/u-image/u-image").then(a.bind(null,"d48d"))},uLoadmore:function(){return a.e("uview-ui/components/u-loadmore/u-loadmore").then(a.bind(null,"0a31"))}},i=function(){var t=this,e=t.$createElement;t._self._c},r=[]},"6d16":function(t,e,a){"use strict";a.r(e);var n=a("5984"),i=a("9720");for(var r in i)"default"!==r&&function(t){a.d(e,t,(function(){return i[t]}))}(r);a("4c68");var o,s=a("f0c5"),u=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],o);e["default"]=u.exports},"8a41":function(t,e,a){},9720:function(t,e,a){"use strict";a.r(e);var n=a("f607"),i=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=i.a},e4da:function(t,e,a){"use strict";(function(t,e){a("c264");i(a("66fd"));var n=i(a("6d16"));function i(t){return t&&t.__esModule?t:{default:t}}t.__webpack_require_UNI_MP_PLUGIN__=a,e(n.default)}).call(this,a("f266")["default"],a("f266")["createPage"])},f607:function(t,e,a){"use strict";(function(t){function a(t){return o(t)||r(t)||i(t)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t,e){if(t){if("string"===typeof t)return s(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?s(t,e):void 0}}function r(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function o(t){if(Array.isArray(t))return s(t)}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u={data:function(){return{topList:["全部","派送中","已完成"],paramsData:{page:"1",limit:"10"},itemindex:0,orderList:[],totalPages:1,status:"loadmore",iconType:"circle",loadText:{loadmore:"轻轻上拉",loading:"加载中",nomore:"暂无更多订单"},order_status:0}},onLoad:function(){this.getList()},onPullDownRefresh:function(){var e=this;setTimeout((function(){e.paramsData.page=1,e.paramsData.limit=15,e.$u.post("/ucenter/getMemberMoneyLog",{page:e.paramsData.page,limit:e.paramsData.limit}).then((function(a){0==a.error&&(e.detailedList=[],e.detailedList=a.data.items,t.stopPullDownRefresh())}))}),1500)},onReachBottom:function(){var t=this;this.totalPages<=this.paramsData.page?(this.status="loading",setTimeout((function(){t.status="nomore"}),1500)):(this.paramsData.page++,this.status="loading",setTimeout((function(){t.getList()}),1500))},onShow:function(){},methods:{getList:function(){var e=this;""===t.getStorageSync("token")?t.showToast({title:"未登录",icon:"none"}):0==t.getStorageSync("is_bind")?t.clearStorageSync():this.$u.post("/order/getOrderList",{order_status:this.order_status,page:this.paramsData.page,limit:this.paramsData.limit}).then((function(t){0==t.error&&(e.totalPages=Math.ceil(t.data.count/e.paramsData.limit),t.data.items.forEach((function(t){""==t.need_time?t.need_time="立即配送":"-"==t.need_time.substr(t.need_time.length-1,1)&&(t.need_time=t.need_time.slice(0,t.need_time.length-1)),"立即配送"!=t.need_time&&(t.need_time=t.need_time.substring(0,10)+" "+t.need_time.substring(12)),console.log(t.need_time)})),e.orderList=[].concat(a(e.orderList),a(t.data.items)),e.totalPages<=e.paramsData.page&&(e.status="nomore"))}))},changeList:function(){var t=this;this.orderList="",this.paramsData.page=1,this.$u.post("/order/getOrderList",{order_status:this.order_status,page:this.paramsData.page,limit:this.paramsData.limit}).then((function(e){0==e.error&&(t.totalPages=Math.ceil(e.data.count/t.paramsData.limit),e.data.items.forEach((function(t){""==t.need_time?t.need_time="立即配送":"-"==t.need_time.substr(t.need_time.length-1,1)&&(t.need_time=t.need_time.slice(0,t.need_time.length-1)),"立即配送"!=t.need_time&&(t.need_time=t.need_time.substring(0,10)+" "+t.need_time.substring(12)),console.log(t.need_time)})),t.orderList=e.data.items,console.log(t.orderList),t.totalPages<=t.paramsData.page&&(t.status="nomore"))}))},orderType:function(t){0==t?(this.order_status=0,console.log(this.order_status),this.changeList()):1==t?(this.order_status=3,this.changeList()):2==t&&(this.order_status=4,console.log(this.order_status),this.changeList()),this.itemindex=t}}};e.default=u}).call(this,a("f266")["default"])}},[["e4da","common/runtime","common/vendor"]]]);